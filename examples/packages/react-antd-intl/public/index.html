<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>React Antd Intl</title>
  </head>
  <body>
    <body>
      <noscript>You need to enable JavaScript to run this app.</noscript>
      <div id="root"></div>
      <script>
        window.__DEV_APP__ = {};
      </script>
<script>
    function loadScript(src, cb) {
      //创建一个script元素
      var el = document.createElement('script');
      var loaded = false;
      //设置加载完成的回调事件
      el.onload = el.onreadystatechange = function() {
        //防止重复加载
        if (
          (el.readyState &&
            el.readyState !== 'complete' &&
            el.readyState !== 'loaded') ||
          loaded
        ) {
          return false;
        }
        //加载完成后将该脚本的onload设置为null
        el.onload = el.onreadystatechange = null;
        loaded = true;
        cb && cb();
      };

      el.onerror = function() {
        cb && cb();
      };

      el.async = true;
      el.src = src;
      var body = document.getElementsByTagName('body')[0];
      body.appendChild(el);
    }

    var locale = window.localStorage.getItem('xf_lang');

    var localeFile =
      locale === 'en' ? '/en.js' : '/zh.js';

    loadScript(localeFile, function() {
      loadScript('/index.js');
    });
  </script>
    </body>
  </body>
</html>
